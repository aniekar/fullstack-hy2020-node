{"version":3,"sources":["components/Person.js","components/FilterForm.js","components/PersonForm.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Button","handleDelete","id","onClick","Person","name","number","FilterForm","filter","handleFilterChange","value","onChange","PersonForm","newName","newNumber","handleNameChange","handleNumberChange","addPerson","type","Notification","message","error","regularStyle","border","fontStyle","fontSize","padding","margin","styleType","backgroundColor","style","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","errorOccurred","setError","notification","setNotification","useEffect","personservice","initialEntries","updatePerson","person","find","p","modifiedPerson","returnedPerson","map","catch","setTimeout","personIsADuplicate","reduce","allNames","concat","includes","personToDelete","window","confirm","personsToShow","toUpperCase","event","target","preventDefault","newPerson","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bea3686d.chunk.js","sourcesContent":["import React from \"react\"\n\nconst Button = ({handleDelete, id}) => {\n    const deletePerson = () => {\n        handleDelete(id)\n    }\n    return(\n        <button onClick={deletePerson} id={id}>Delete</button>\n    )\n}\n\nconst Person = ({ id, name, number, handleDelete }) => {\n  return (\n    <div>\n      {name} {number} <Button handleDelete={handleDelete} id={id}/>\n    </div>\n  )\n}\n\nexport default Person\n","import React from \"react\"\n\nconst FilterForm = ({ filter, handleFilterChange }) => {\n  return (\n    <div>\n      <form>\n        Filter by name:\n        <input value={filter} onChange={handleFilterChange}></input>\n      </form>\n    </div>\n  )\n}\n\nexport default FilterForm\n","import React from \"react\"\n\nconst PersonForm = ({\n  newName,\n  newNumber,\n  handleNameChange,\n  handleNumberChange,\n  addPerson,\n}) => {\n  return (\n    <div>\n      <form>\n        <div>\n          name: <input value={newName} onChange={handleNameChange} />\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\" onClick={addPerson}>\n            add\n          </button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default PersonForm\n","import React from \"react\"\n\nconst Notification = ({ message, error }) => {\n  const regularStyle = {\n    border: \"2px solid green\",\n    fontStyle: \"bold\",\n    fontSize: 18,\n    padding: \"5px\",\n    margin: \"10px\"\n  }\n  const errorStyle = {\n    border: \"1px solid red\",\n    backgroundColor: \"bisque\",\n    fontStyle: \"bold\",\n    fontSize: 18,\n    padding: \"5px\",\n    margin: \"10px\"\n  }\n  let styleType = regularStyle\n\n  if (message === \"\") {\n    return null\n  } else {\n    styleType = error ? errorStyle : regularStyle\n    return <div style={styleType}>{message}</div>\n  }\n}\n\nexport default Notification\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst deleteOne = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, deleteOne }","import React, { useState, useEffect } from \"react\"\nimport Person from \"./components/Person\"\nimport FilterForm from \"./components/FilterForm\"\nimport PersonForm from \"./components/PersonForm\"\nimport Notification from \"./components/Notification\"\nimport personservice from \"./services/persons\"\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState(\"\")\n  const [newNumber, setNewNumber] = useState(\"\")\n  const [filter, setFilter] = useState(\"\")\n  const [errorOccurred, setError] = useState(false)\n  const [notification, setNotification] = useState(\"\")\n\n  useEffect(() => {\n    personservice.getAll().then(initialEntries => {\n      setPersons(initialEntries)\n    })\n  }, [])\n\n  const addPerson = event => {\n    event.preventDefault()\n    if (!personIsADuplicate()) {\n      const personObject = {\n        name: newName,\n        number: newNumber,\n      }\n\n      personservice\n        .create(personObject)\n        .then(newPerson => {\n          setPersons(persons.concat(newPerson))\n          setNotification(`${newPerson.name} was added`)\n        })\n        .catch(function(error) {\n          setError(true)\n          setNotification(\n            `An error occurred while attempting to create ${newName}`\n          )\n        })\n        .then(function() {\n          setNewName(\"\")\n          setNewNumber(\"\")\n          setTimeout(() => {\n            setNotification(\"\")\n            setError(false)\n          }, 2000)\n        })\n    } else {\n      const confirmation = window.confirm(\n        `${newName} is already added to phonebook, replace the old number with a new one?`\n      )\n      if (confirmation) {\n        updatePerson()\n      }\n      setNewName(\"\")\n      setNewNumber(\"\")\n    }\n  }\n\n  const updatePerson = () => {\n    const person = persons.find(p => p.name === newName)\n    const modifiedPerson = { ...person, number: newNumber }\n    personservice\n      .update(person.id, modifiedPerson)\n      .then(function(returnedPerson) {\n        setPersons(\n          persons.map(p => (p.id !== returnedPerson.id ? p : returnedPerson))\n        )\n        setNotification(`${modifiedPerson.name} was updated`)\n      })\n      .catch(function(error) {\n        setError(true)\n        setNotification(\n          `An error occurred while attempting to update ${modifiedPerson.name}`\n        )\n      })\n      .then(function() {\n        setNewName(\"\")\n        setNewNumber(\"\")\n        setTimeout(() => {\n          setNotification(\"\")\n          setError(false)\n        }, 2000)\n      })\n  }\n\n  const personIsADuplicate = () => {\n    let names = persons.reduce(\n      (allNames, person) => allNames.concat(person.name),\n      []\n    )\n    return names.includes(newName)\n  }\n\n  const handleDelete = id => {\n    const personToDelete = persons.find(p => p.id === id)\n    if (window.confirm(`Delete ${personToDelete.name}?`)) {\n      personservice\n        .deleteOne(id)\n        .then(function(response) {\n          setNotification(`${personToDelete.name} was deleted`)\n        })\n        .catch(function(error) {\n          setError(true)\n          setNotification(\n            `An error occurred while attempting to delete ${personToDelete.name}`\n          )\n        })\n        .then(function() {\n          setPersons(persons.filter(p => p.id !== id))\n          setTimeout(() => {\n            setNotification(\"\")\n            setError(false)\n          }, 2000)\n        })\n    }\n  }\n\n  const handleNameChange = event => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = event => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = event => {\n    setFilter(event.target.value)\n  }\n\n  const personsToShow = persons.filter(person =>\n    person.name.toUpperCase().includes(filter.toUpperCase())\n  )\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={notification} error={errorOccurred} />\n      <FilterForm filter={filter} handleFilterChange={handleFilterChange} />\n      <h2>Add new person</h2>\n      <PersonForm\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        addPerson={addPerson}\n      />\n      <h2>Numbers</h2>\n      {personsToShow.map(person => (\n        <Person\n          key={person.id}\n          id={person.id}\n          name={person.name}\n          number={person.number}\n          handleDelete={handleDelete}\n        />\n      ))}\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}